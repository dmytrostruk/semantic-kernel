workflow:
  name: ProductSummarization
  inputs:
    messages: {}
  nodes:
    - id: GetProductInfo
      type: dotnet
      description: Gets product information
      agent:
        type: SemanticKernel.Process.UnitTests.Steps.ProductInfoProvider, SemanticKernel.Process.UnitTests
        id: GetProductInfoAgent
      on_complete:
        - on_condition:
            type: default
            emits:
              - event_type: GetProductInfo.OnResult
    - id: Summarize
      type: declarative
      description: Summarizes the information
      agent:
        type: chat_completion_agent
        name: SummarizationAgent
        description: Summarizes the information
        instructions: Summarize the provided information in 3 sentences
      on_complete:
        - on_condition:
            type: default
            emits:
              - event_type: ProcessCompleted
  orchestration:
    - listen_for:
        from: $.inputs.events
        event: input_message_received
      then:
        - node: GetProductInfo
    - listen_for:
        from: GetProductInfo
        event: GetProductInfo.OnResult
      then:
        - node: Summarize
